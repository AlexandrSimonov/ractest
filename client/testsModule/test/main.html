<template name="test">
	<h1>Тест "{{test.title}}"</h1>

	{{#if isInfo }}
		{{ > info test = test }}
	{{/if}}
	{{#if isTest }}
		{{ > testing type = test.type }}
	{{/if}}
	{{#if isResult }}
		{{ > result type = test.type }}
	{{/if}}
</template>

<template name="info">
	<p>{{ test.description }}</p>
	{{#if test.img }}
		<p>
			<img src="/cfs/files/images/{{ test.img }}">
		</p>
	{{/if}}
	{{#if _continueTest}}
		{{> continueTest }}
	{{else}}
		<p>
			<button id="start">Начать тест</button>
		</p>
	{{/if}}
</template>

<template name="testing">
	<p>{{currentAsk.text}}</p>
	<p>
		{{#each currentAsk.img }}
			<img src="/cfs/files/images/{{ this }}">
		{{/each}}
	</p>
	<ul>
		{{#each currentAsk.answers}}
			<li>
				<input type="radio" name="isTrue" value="{{@index}}">
				<p>{{this.text}}</p>
				<div class="imagesList">
					{{#each img in this.images }}
						<img src="/cfs/files/images/{{ img }}">
					{{/each}}
				</div>
			</li>
		{{/each}}
	</ul>
	{{statistic}}
	<p>
		{{#if isLine}}
			<button id="skip">Пропустить</button>
			<button id="over">Закончить</button>
		{{/if}}
		<button id="answer">Ответить</button>
		{{#if isLine}}
			<button id="askList">Вопросы</button>
			{{#if showAskList}}
				{{ > askList }}
			{{/if}}
		{{/if}}
	</p>
</template>

<template name="result">
	<p>Тут результат)</p>
</template>

<template name="continueTest">
	<div>
		<p>Вы уже начинали проходить этот тест</p>
		<button id="continue">Продолжить</button>
		<button id="notContinue">Начать сначала</button>
	</div>
</template>

<template name="askList">
	<ul>
		{{#each list}}
			<li><button class="step" name="step-{{@index}}" {{style @index}}>{{incIndex @index}}</button></li>
		{{/each}}
	</ul>
</template>